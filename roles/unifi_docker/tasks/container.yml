---
- name: Ensure unifi controller is up
  community.docker.docker_container:
    name: unifi-controller
    image: lscr.io/linuxserver/unifi-controller:latest
    state: started
    tty: true
    volumes:
      - /opt/unifi/config:/config
    privileged: false
    ports:
      - 8443:8443
      - 3478:3478/udp
      - 10001:10001/udp
      - 8080:8080
      - 1900:1900/udp # optional
      - 8843:8843 # optional
      - 8880:8880 # optional
      - 6789:6789 # optional
      - 5514:5514/udp # optional
    pull: true
    restart_policy: unless-stopped
    env:
      TZ: US/Eastern
      PUID: "1000"
      PGID: "1000"
